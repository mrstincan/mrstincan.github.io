<html>
    <head>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script>
//############# Setup stuff ###############


const SCROLL_PLANE_CLASS = "scrollPlane";
const INITAL_CONTAINER = 0;
const TRANSITION_TIME = 0.5;
const TRANSITION_TIMING_FUNCTION = "ease";

const buttons = [  
    document.getElementById("button1"),
    document.getElementById("button2"),
    document.getElementById("button3"),
    document.getElementById("button4")
];

//############# Create transitions ###############

let transitionsStyleTag = document.createElement("style");
for(let i = 0;i < buttons.length;i++) {
    transitionsStyleTag.innerHTML += "." + SCROLL_PLANE_CLASS + ".c" + i + " { top: -" + (i * 100) + "%; transition: " + TRANSITION_TIME + "s; transition-timing-function: " + TRANSITION_TIMING_FUNCTION + "; }";
}
document.getElementsByTagName("head")[0].appendChild(transitionsStyleTag);

//############# Event handling ###############

let scrollPlane = document.getElementsByClassName(SCROLL_PLANE_CLASS)[0];
scrollPlane.classList.add("c" + INITAL_CONTAINER);

function buttonCallback(event) {
    for(let i = 0;i < buttons.length;i++) {
        for(let j = 0;j < event.path.length;j++) {
            if(event.path[j] == buttons[i]) {
                for(let k = 0;k < buttons.length;k++) {
                    if(i == k) {
                        scrollPlane.classList.add("c" + k);
                    } else {
                        scrollPlane.classList.remove("c" + k);
                    }
                }
                break;
            }
        }
    }
}

for(let i = 0;i < buttons.length;i++) {
    buttons[i].onclick = buttonCallback;
}

</script>
</head>

    <style type="text/css">

nav {
    display: flex;
    flex-direction: column;
    background:var(--bgcolor);    
    padding:10px;
    padding-top:280px;
    text-align:center;
}

nav > button {
    
    display:inline-block;
    cursor:pointer;
    margin:20px 0px;
    width:40px;
    height:40px;
    padding:0px;
    background-image:var(--background);
    background-position: top left;
    background-repeat: no-repeat;
    background-attachment: fixed;
    text-align: center;
    line-height: 40px;
    vertical-align: middle;
    horizontal-align: middle;
    font-size:24px;
    border:1px solid var(--bgcolor);
    border-radius:100px;
    opacity:1;
    overflow:visible;
    text-shadow:1px 1px 0px var(--bgcolor), 
      1px -1px 0px var(--bgcolor),
      -1px -1px 0px var(--bgcolor),
      -1px 1px 0px var(--bgcolor),
      0px 1px 0px var(--bgcolor),
      0px -1px 0px var(--bgcolor),
      1px 0px 0px var(--bgcolor),
      -1px 0px 0px var(--bgcolor);
}

main {
    margin: 0.3em;
    flex: 1;
    overflow:scroll;
    scroll-behavior: smooth;
}
        

.scrollPlane {
    position: relative;
    height: 100%;
}

.scrollPlane > div {
    position: relative;
    height: 100%;
}

.container1 {
    background:rgba(50,105,200,0.4);
    overflow:hidden;

}

.container2 {
    background:rgba(100,150,200,0.4);
    overflow:hidden;

}

.container3 {
    background:rgba(100,105,200,0.4);
    overflow:hidden;

}

.container4 {
    background:rgba(100,105,50,0.4);
    overflow:hidden;
}


    </style>

<body>
    <nav>
        <button id="button1"> <i class="fas fa-home" title="home"></i> </button>
        
        <button id="button2"> <i class="far fa-comment" title="rules + ask"></i> </button>
        <button id="button3"> <i class="fas fa-bars" title="muses"></i></button>
        <button id="button4"> <i class="fas fa-heart" title="test 4"></i> </button>
    </nav>
<main>
    <div class="scrollPlane">
        <div class="container1"></div>
        <div class="container2"></div>
        <div class="container3"></div>
        <div class="container4"></div>
    </div>
    </main>
</body>

</html>
